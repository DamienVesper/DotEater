//Check in order which is true and set it as NewDirection
if (NextDirectionUp) return 90;
if (NextDirectionDown) return 270;
if (NextDirectionLeft) return 180;
if (NextDirectionRight) return 0;